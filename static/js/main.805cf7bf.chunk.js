(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__16Jxe",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__FQP5R"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__2RVJk",modal:"Modal_modal__1TtmO"}},27:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3bmZy"}},28:function(e,t,a){e.exports={button:"Button_button__2Sjrf"}},29:function(e,t,a){e.exports={wrapper:"Wrapper_wrapper__fVE9s"}},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2Jc5n",SearchForm:"Searchbar_SearchForm__3Z5I_",SearchFormButton:"Searchbar_SearchFormButton__3uxIj",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3M7Aj",SearchFormInput:"Searchbar_SearchFormInput__WAlJ1"}},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(9),c=a.n(n),o=a(6),s=a.n(o),u=a(17),i=a(11),l=a(4),m=a(5),b=(a(35),a(26)),h=a.n(b),j=a(12),d=a.n(j);d.a.defaults.baseURL="https://pixabay.com",d.a.defaults.params={key:"22593683-900dbddd4b86d221bedd65f3e"};var p=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",a=n.length>1&&void 0!==n[1]?n[1]:1,e.prev=2,e.next=5,d.a.get("/api/?q=".concat(t,"&page=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12"));case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),f=a(7),O=a.n(f),g=a(1);function v(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(l.a)(a,2),c=n[0],o=n[1];return Object(g.jsx)("header",{className:O.a.Searchbar,children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===c.trim()?m.b.error("Please, fulfill the search form"):(t(c),o(""))},className:O.a.SearchForm,children:[Object(g.jsx)("button",{type:"submit",className:O.a.SearchFormButton,children:Object(g.jsx)("span",{className:O.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:O.a.SearchFormInput,type:"text",value:c,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var S=a(27),_=a.n(S);function x(e){var t=e.children;return Object(g.jsx)("ul",{className:_.a.imageGallery,children:t})}var y=a(15),w=a.n(y);function I(e){var t=e.response,a=e.onSelect;return t.map((function(e){return Object(g.jsx)("li",{className:w.a.imageGalleryItem,children:Object(g.jsx)("img",{onClick:function(){return a(e)},src:e.webformatURL,alt:e.id,className:w.a.imageGalleryItemImage})},e.id)}))}var k=a(28),F=a.n(k);function N(e){var t=e.onHandleSubmit;return Object(g.jsx)("button",{onClick:function(){return t()},type:"button",className:F.a.button,children:"Load more images"})}var G=a(16),L=a.n(G);function C(e){var t=e.imageURL,a=e.onClose;return Object(g.jsx)("div",{className:L.a.overlay,onClick:a,children:Object(g.jsx)("div",{className:L.a.modal,children:Object(g.jsx)("img",{src:t.largeImageURL,alt:t.id,width:"700"})})})}var B=a(29),E=a.n(B);function R(e){var t=e.children;return Object(g.jsx)("div",{className:E.a.wrapper,children:t})}function J(){var e=Object(r.useState)(1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(l.a)(c,2),b=o[0],j=o[1],d=Object(r.useState)("idle"),f=Object(l.a)(d,2),O=f[0],S=f[1],_=Object(r.useState)(!1),y=Object(l.a)(_,2),w=y[0],k=y[1],F=Object(r.useState)(null),G=Object(l.a)(F,2),L=G[0],B=G[1],E=Object(r.useState)([]),J=Object(l.a)(E,2),U=J[0],M=J[1],T=Object(r.useState)(null),A=Object(l.a)(T,2),D=(A[0],A[1]);function H(){k(!w)}function P(e){"Escape"===e.code&&H()}Object(r.useEffect)((function(){if(""!==b){1===a&&M("");var e=function(){var e=Object(i.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(b,a);case 3:t=e.sent,0===(r=t.hits).length?(S("rejected"),m.b.error("Not found!")):(M((function(e){return[].concat(Object(u.a)(e),Object(u.a)(r))})),D(null),S("resolved"),m.b.success("Found!")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),D(e.t0.toString()),S("rejected"),m.b.error("Not found!");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[a,b]),Object(r.useEffect)((function(){return window.addEventListener("keydown",P),function(){window.removeEventListener("keydown",P)}}),[w]);return Object(g.jsxs)(R,{children:[Object(g.jsx)(v,{onSubmit:function(e){n(1),j(e)}}),U.length>0&&Object(g.jsx)(x,{children:Object(g.jsx)(I,{response:U,onSelect:function(e){B(e),H()}})}),U.length>0&&Object(g.jsx)(N,{onHandleSubmit:function(){n((function(e){return e+1}))}}),w&&Object(g.jsx)(C,{imageURL:L,onClose:H}),"pending"===O&&Object(g.jsx)(h.a,{type:"ThreeDots",color:"#3f51b5",height:40,width:40,timeout:2e3}),Object(g.jsx)(m.a,{position:"top-right",theme:"dark",autoClose:"2000"})]})}c.a.render(Object(g.jsx)(J,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.805cf7bf.chunk.js.map