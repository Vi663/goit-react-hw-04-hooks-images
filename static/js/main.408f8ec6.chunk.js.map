{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/wrapper/Wrapper.module.css","components/searchbar/Searchbar.module.css","services/imagesApi.js","components/searchbar/Searchbar.jsx","components/imageGallery/ImageGallery.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/button/Button.jsx","components/modal/Modal.jsx","components/wrapper/Wrapper.jsx","components/App/App.jsx","index.js"],"names":["module","exports","axios","defaults","baseURL","apiKey","fetchImgWithQuery","a","searchQuery","page","get","axiosResponse","data","Searchbar","state","input","clearInput","setState","handleInputChange","e","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","trim","toast","error","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGallery","children","imageGallery","ImageGalleryItem","response","onSelect","map","obj","imageGalleryItem","onClick","src","webformatURL","alt","id","imageGalleryItemImage","Button","onHandleSubmit","button","Modal","imageURL","onClose","overlay","modal","largeImageURL","width","Wrapper","wrapper","App","status","isModalOpen","imageData","images","onHandleKeydown","code","onToggleModal","fetchImages","hits","length","prevState","toString","setStatus","scrollDown","loading","success","inputValue","onImageClick","onLoadNext","prevProps","window","addEventListener","removeEventListener","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","timeout","position","theme","autoClose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.408f8ec6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__197Ru\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__243Zs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2tXtj\",\"modal\":\"Modal_modal__guipO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__11D1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2WM1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Wrapper_wrapper__1BB_i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__14-vu\",\"SearchForm\":\"Searchbar_SearchForm__NWWhJ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1UITj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2hABH\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2x1jx\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com';\r\nconst apiKey = '22593683-900dbddd4b86d221bedd65f3e';\r\n\r\nexport const fetchImgWithQuery = async (searchQuery = '', page = 1) => {\r\n  try {\r\n    const axiosResponse = await axios.get(\r\n      `/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    );\r\n    return axiosResponse.data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nexport class Searchbar extends Component {\r\n\r\n  state = {\r\n    input: '',\r\n  }\r\n\r\n  clearInput = () => {\r\n    this.setState({input: \"\"})\r\n  }\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({ input: e.currentTarget.value.toLowerCase() });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.input);\r\n    if (this.state.input.trim() === \"\") {\r\n      toast.error(\"Please, fulfill the search form\");\r\n    }\r\n    this.clearInput();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          value={this.state.input}\r\n          // autocomplete=\"off\"\r\n          // autofocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.handleInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n  }\r\n}","import React from 'react';\r\nimport s from './ImageGallery.module.css'\r\n\r\nexport function ImageGallery ({children}) {\r\n\r\n    return (\r\n      <ul className={s.imageGallery}>\r\n        {children}\r\n      </ul>\r\n    )\r\n}","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\nexport function ImageGalleryItem({ response, onSelect }) {\r\n  return (\r\n    response.map((obj) =>\r\n      < li key={obj.id} className={s.imageGalleryItem} >\r\n        <img onClick={() => onSelect(obj)} src={obj.webformatURL} alt={obj.id} className={s.imageGalleryItemImage} />\r\n      </li>)\r\n  )\r\n}","import React from 'react';\r\nimport s from './Button.module.css'\r\n\r\nexport function Button ({onHandleSubmit}) {\r\n    return (\r\n      <button onClick={() => onHandleSubmit()} type=\"button\" className={s.button}>\r\n        Load more images\r\n      </button>\r\n    )\r\n}","import React from 'react';\r\nimport s from './Modal.module.css'\r\n\r\nexport function Modal({ imageURL, onClose }) {\r\n  return (\r\n    <div className={s.overlay} onClick={() => onClose()}>\r\n      <div className={s.modal}>\r\n        <img src={imageURL.largeImageURL} alt={imageURL.id} width='700' />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport s from './Wrapper.module.css'\r\n\r\nexport function Wrapper ({children}) {\r\n\r\n    return (\r\n      <div className={s.wrapper}>\r\n        {children}\r\n      </div>\r\n    )\r\n}","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from \"react-loader-spinner\";\nimport { fetchImgWithQuery } from '../../services/imagesApi'\nimport { Searchbar } from \"../searchbar/Searchbar\";\nimport { ImageGallery } from \"../imageGallery/ImageGallery\";\nimport { ImageGalleryItem } from \"../imageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../button/Button\";\nimport { Modal } from \"../modal/Modal\";\nimport { Wrapper } from \"../wrapper/Wrapper\";\n\nexport class App extends Component {\n  \n  state = {\n    page: 1,\n    searchQuery: '',\n    status: 'idle',\n    isModalOpen: false,\n    imageData: '',\n    images: [],\n    error: null,\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.setState({ status: 'pending', images: [] });\n      this.fetchImages();\n      this.setState({ page: 1 })\n      return\n    }\n    // if (prevState.page !== this.state.page) {\n    //   this.fetchImages();\n    //   return\n    // }\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onHandleKeydown)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener ('keydown', this.onHandleKeydown)\n  }\n\n  onHandleKeydown = (e) => {\n    if (e.code === 'Escape' ) {\n      this.onToggleModal();\n    }\n  }\n    fetchImages = async () => {\n    const { searchQuery, page, status } = this.state;\n\n    this.setState({ status: 'pending' });\n\n    try {\n      const { hits } = await fetchImgWithQuery(\n        searchQuery,\n        page,\n        status\n      );\n      if (hits.length === 0) {\n        this.setState({ status: 'rejected' })\n      } else {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n          error: null,\n          status: 'resolved'\n        }))\n      }\n    } catch (err) {\n      this.setState({ error: err.toString(), status: 'rejected' });\n    } finally {\n      this.setStatus();\n      this.scrollDown();\n    }\n  };\n\n  scrollDown() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  setStatus = () => {\n    const { status } = this.state;\n\n    switch (status) {\n      case 'pending':\n        toast.loading(\"Loading...\")\n        break;\n\n      case 'resolved':\n        toast.success(\"Found!\")\n        break;\n      \n      case 'rejected':\n        toast.error(\"Not found!\")\n        break;\n\n      default:\n        return;\n    }\n  }\n\n  onHandleSubmit = (inputValue) => {\n    this.setState({ searchQuery: inputValue });\n  }\n\n\n  onImageClick = (data) => {\n    this.setState({ imageData: data });\n    this.onToggleModal();\n  }\n\n  onToggleModal = (e) => {\n    this.setState(({isModalOpen}) => ({ isModalOpen: !isModalOpen }));\n  }\n\n  onLoadNext = () => {\n    this.fetchImages();\n  }\n\n  render() {\n    const {status, images, isModalOpen, imageData} = this.state;\n    return (\n      <Wrapper>\n        <Searchbar onSubmit={this.onHandleSubmit} />\n        {status === 'resolved' &&\n          <ImageGallery>\n          <ImageGalleryItem\n            response={images}\n            onSelect={this.onImageClick} />\n          </ImageGallery>}\n        {status === 'resolved' && <Button onHandleSubmit={this.onLoadNext}/>}\n        { isModalOpen &&\n          <Modal imageURL={imageData} onClose={this.onToggleModal} />}\n        {status === 'pending' && <Loader\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={40}\n          width={40}\n          timeout={2000}\n        />}\n      <ToastContainer position=\"top-right\" theme=\"dark\" autoClose='2000'/>\n      </Wrapper>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './components/App/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}