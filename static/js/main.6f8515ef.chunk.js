(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__197Ru",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__243Zs"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__2tXtj",modal:"Modal_modal__guipO"}},27:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__11D1c"}},28:function(e,t,a){e.exports={button:"Button_button__2WM1I"}},29:function(e,t,a){e.exports={wrapper:"Wrapper_wrapper__1BB_i"}},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__14-vu",SearchForm:"Searchbar_SearchForm__NWWhJ",SearchFormButton:"Searchbar_SearchFormButton__1UITj",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2hABH",SearchFormInput:"Searchbar_SearchFormInput__2x1jx"}},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(9),c=a.n(n),o=a(6),s=a.n(o),i=a(17),u=a(11),l=a(4),b=a(5),m=(a(35),a(26)),h=a.n(m),d=a(12),j=a.n(d);j.a.defaults.baseURL="https://pixabay.com",j.a.defaults.params={key:"22593683-900dbddd4b86d221bedd65f3e"};var p=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,r,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",a=n.length>1&&void 0!==n[1]?n[1]:1,e.prev=2,e.next=5,j.a.get("/api/?q=".concat(t,"&page=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12"));case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),f=a(7),g=a.n(f),v=a(1);function O(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(l.a)(a,2),c=n[0],o=n[1];return Object(v.jsx)("header",{className:g.a.Searchbar,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),""===c.trim()&&b.b.error("Please, fulfill the search form"),o("")},className:g.a.SearchForm,children:[Object(v.jsx)("button",{type:"submit",className:g.a.SearchFormButton,children:Object(v.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(v.jsx)("input",{className:g.a.SearchFormInput,type:"text",value:c,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var _=a(27),S=a.n(_);function x(e){var t=e.children;return Object(v.jsx)("ul",{className:S.a.imageGallery,children:t})}var y=a(15),I=a.n(y);function w(e){var t=e.response,a=e.onSelect;return t.map((function(e){return Object(v.jsx)("li",{className:I.a.imageGalleryItem,children:Object(v.jsx)("img",{onClick:function(){return a(e)},src:e.webformatURL,alt:e.id,className:I.a.imageGalleryItemImage})},e.id)}))}var k=a(28),F=a.n(k);function N(e){var t=e.onHandleSubmit;return Object(v.jsx)("button",{onClick:function(){return t()},type:"button",className:F.a.button,children:"Load more images"})}var G=a(16),B=a.n(G);function L(e){var t=e.imageURL,a=e.onClose;return Object(v.jsx)("div",{className:B.a.overlay,onClick:function(){return a()},children:Object(v.jsx)("div",{className:B.a.modal,children:Object(v.jsx)("img",{src:t.largeImageURL,alt:t.id,width:"700"})})})}var C=a(29),R=a.n(C);function U(e){var t=e.children;return Object(v.jsx)("div",{className:R.a.wrapper,children:t})}function H(){var e=Object(r.useState)(1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(l.a)(c,2),m=o[0],d=o[1],j=Object(r.useState)("idle"),f=Object(l.a)(j,2),g=f[0],_=f[1],S=Object(r.useState)(!1),y=Object(l.a)(S,2),I=y[0],k=y[1],F=Object(r.useState)(""),G=Object(l.a)(F,2),B=G[0],C=G[1],R=Object(r.useState)([]),H=Object(l.a)(R,2),T=H[0],W=H[1],D=Object(r.useState)(null),E=Object(l.a)(D,2),J=E[0],M=E[1];Object(r.useEffect)((function(){if(""!==m){_("pending");var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(m,a,g);case 3:t=e.sent,0===(r=t.hits).length?_("rejected"):(W((function(e){return[].concat(Object(i.a)(e),Object(i.a)(r))})),n((function(e){return e+1})),M(null),q(),_("resolved")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),M(e.t0.toString()),_("rejected");case 12:return e.prev=12,z(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[a,m,g]);var q=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},z=function(){switch(g){case"pending":b.b.loading("Loading...");break;case"resolved":b.b.success("Found!");break;case"rejected":b.b.error("Not found!",J);break;default:return}},A=function(e){k(!I)};return Object(v.jsxs)(U,{children:[Object(v.jsx)(O,{onSubmit:function(e){d(e)}}),"resolved"===g&&Object(v.jsx)(x,{children:Object(v.jsx)(w,{response:T,onSelect:function(e){C(e),A()}})}),"resolved"===g&&Object(v.jsx)(N,{onHandleSubmit:void n((function(e){return e+1}))}),I&&Object(v.jsx)(L,{imageURL:B,onClose:A()}),"pending"===g&&Object(v.jsx)(h.a,{type:"ThreeDots",color:"#3f51b5",height:40,width:40,timeout:2e3}),Object(v.jsx)(b.a,{position:"top-right",theme:"dark",autoClose:"2000"})]})}c.a.render(Object(v.jsx)(H,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.6f8515ef.chunk.js.map