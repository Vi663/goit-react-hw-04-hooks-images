{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/wrapper/Wrapper.module.css","components/searchbar/Searchbar.module.css","services/imagesApi.js","components/searchbar/Searchbar.jsx","components/imageGallery/ImageGallery.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/button/Button.jsx","components/modal/Modal.jsx","components/wrapper/Wrapper.jsx","components/App/App.jsx","index.js"],"names":["module","exports","axios","defaults","baseURL","params","key","fetchImgWithQuery","a","searchQuery","page","get","axiosResponse","data","Searchbar","onSubmit","useState","input","setInput","className","s","e","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","ImageGallery","children","imageGallery","ImageGalleryItem","response","onSelect","map","obj","imageGalleryItem","onClick","src","webformatURL","alt","id","imageGalleryItemImage","Button","onHandleSubmit","button","Modal","imageURL","onClose","overlay","modal","largeImageURL","width","Wrapper","wrapper","App","setPage","setSearchQuery","status","setStatus","isModalOpen","setModal","imageData","setImageData","images","setImages","setError","useEffect","fetchImages","hits","length","prevState","scrollDown","toString","toggleStatus","window","scrollTo","top","document","documentElement","scrollHeight","behavior","loading","success","onToggleModal","inputValue","color","height","timeout","position","theme","autoClose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6f8515ef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__197Ru\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__243Zs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2tXtj\",\"modal\":\"Modal_modal__guipO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__11D1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2WM1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Wrapper_wrapper__1BB_i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__14-vu\",\"SearchForm\":\"Searchbar_SearchForm__NWWhJ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1UITj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2hABH\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2x1jx\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com';\r\naxios.defaults.params = { key: \"22593683-900dbddd4b86d221bedd65f3e\" };\r\n\r\nexport const fetchImgWithQuery = async (searchQuery = '', page = 1) => {\r\n  try {\r\n    const axiosResponse = await axios.get(\r\n      `/api/?q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    );\r\n    return axiosResponse.data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n}","import { useState } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst initialState = '';\r\nexport function Searchbar({onSubmit}) {\r\n\r\n  const [input, setInput] = useState(initialState);\r\n\r\n  const clearInput = () => {\r\n    setInput(initialState)\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    setInput(e.currentTarget.value.toLowerCase());\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(input);\r\n    if (input.trim() === \"\") {\r\n      toast.error(\"Please, fulfill the search form\");\r\n    }\r\n    clearInput();\r\n  }\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          value={input}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n}","import React from 'react';\r\nimport s from './ImageGallery.module.css'\r\n\r\nexport function ImageGallery ({children}) {\r\n\r\n    return (\r\n      <ul className={s.imageGallery}>\r\n        {children}\r\n      </ul>\r\n    )\r\n}","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\nexport function ImageGalleryItem({ response, onSelect }) {\r\n  return (\r\n    response.map((obj) =>\r\n      < li key={obj.id} className={s.imageGalleryItem} >\r\n        <img onClick={() => onSelect(obj)} src={obj.webformatURL} alt={obj.id} className={s.imageGalleryItemImage} />\r\n      </li>)\r\n  )\r\n}","import React from 'react';\r\nimport s from './Button.module.css'\r\n\r\nexport function Button ({onHandleSubmit}) {\r\n    return (\r\n      <button onClick={() => onHandleSubmit()} type=\"button\" className={s.button}>\r\n        Load more images\r\n      </button>\r\n    )\r\n}","import React from 'react';\r\nimport s from './Modal.module.css'\r\n\r\nexport function Modal({ imageURL, onClose }) {\r\n  return (\r\n    <div className={s.overlay} onClick={() => onClose()}>\r\n      <div className={s.modal}>\r\n        <img src={imageURL.largeImageURL} alt={imageURL.id} width='700' />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport s from './Wrapper.module.css'\r\n\r\nexport function Wrapper ({children}) {\r\n\r\n    return (\r\n      <div className={s.wrapper}>\r\n        {children}\r\n      </div>\r\n    )\r\n}","import { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from \"react-loader-spinner\";\nimport { fetchImgWithQuery } from '../../services/imagesApi'\nimport { Searchbar } from \"../searchbar/Searchbar\";\nimport { ImageGallery } from \"../imageGallery/ImageGallery\";\nimport { ImageGalleryItem } from \"../imageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../button/Button\";\nimport { Modal } from \"../modal/Modal\";\nimport { Wrapper } from \"../wrapper/Wrapper\";\n\nconst initialState = '';\n\nexport function App() {\n  \n  const [page, setPage] = useState(1)\n  const [searchQuery, setSearchQuery] = useState(initialState)\n  const [status, setStatus] = useState('idle')\n  const [isModalOpen, setModal] = useState(false)\n  const [imageData, setImageData] = useState(initialState)\n  const [images, setImages] = useState([])\n  const [error, setError] = useState(null)\n\n  \n  \n  useEffect(() => {\n    if (searchQuery === '') {\n      return\n    }\n    setStatus('pending')\n    const fetchImages = async () => {\n      try {\n        const { hits } = await fetchImgWithQuery(\n          searchQuery,\n          page,\n          status\n        )\n        if (hits.length === 0) {\n          setStatus('rejected')\n        } else {\n        setImages((prevState) => ([...prevState, ...hits]))\n        setPage((prevState) => (prevState + 1))\n        setError(null)\n        scrollDown()\n        setStatus('resolved')\n      }\n      } catch (err) {\n        setError(err.toString())\n        setStatus('rejected')\n      } finally {\n        toggleStatus();\n      }\n  }\n    // setImages([])\n    fetchImages()\n    // setPage(1)\n  }, [page, searchQuery, status])\n\n    \n\n  \n  // useEffect(() => {\n  //    fetchImages()\n  // }, [fetchImages, page])\n\n  // componentDidMount() {\n  //   window.addEventListener('keydown', this.onHandleKeydown)\n  // }\n\n  // componentWillUnmount() {\n  //   window.removeEventListener ('keydown', this.onHandleKeydown)\n  // }\n\n  // const onHandleKeydown = (e) => {\n  //   if (e.code === 'Escape') {\n  //     onToggleModal();\n  //   }\n  // }\n  // const fetchImages = useCallback(\n  // )\n\n  const scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  const toggleStatus = () => {\n\n    switch (status) {\n      case 'pending':\n        toast.loading(\"Loading...\")\n        break;\n\n      case 'resolved':\n        toast.success(\"Found!\")\n        break;\n      \n      case 'rejected':\n        toast.error(\"Not found!\", error)\n        break;\n\n      default:\n        return;\n    }\n  }\n\n  const onHandleSubmit = (inputValue) => {\n    setSearchQuery(inputValue);\n  }\n\n\n  const onImageClick = (data) => {\n    setImageData(data);\n    onToggleModal();\n  }\n\n  const onToggleModal = (e) => {\n    setModal(!isModalOpen);\n  }\n\n  const onLoadNext = () => {\n    setPage((prevState) => (prevState + 1))\n  }\n\n  return (\n    <Wrapper>\n      <Searchbar onSubmit={onHandleSubmit} />\n      {status === 'resolved' &&\n        <ImageGallery>\n          <ImageGalleryItem\n            response={images}\n            onSelect={onImageClick} />\n        </ImageGallery>}\n      {status === 'resolved' && <Button onHandleSubmit={onLoadNext()} />}\n      {isModalOpen &&\n        <Modal imageURL={imageData} onClose={onToggleModal()} />}\n      {status === 'pending' && <Loader\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={40}\n        width={40}\n        timeout={2000}\n      />}\n      <ToastContainer position=\"top-right\" theme=\"dark\" autoClose='2000' />\n    </Wrapper>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './components/App/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}