{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Wrapper/Wrapper.module.css","components/Searchbar/Searchbar.module.css","services/imagesApi.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Wrapper/Wrapper.jsx","components/App/App.jsx","index.js"],"names":["module","exports","axios","defaults","baseURL","params","key","fetchImgWithQuery","a","searchQuery","page","get","axiosResponse","data","Searchbar","onSubmit","useState","input","setInput","className","s","e","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","ImageGallery","children","imageGallery","ImageGalleryItem","response","onSelect","map","obj","imageGalleryItem","onClick","src","webformatURL","alt","id","imageGalleryItemImage","Button","onHandleSubmit","button","Modal","imageURL","onClose","overlay","modal","largeImageURL","width","Wrapper","wrapper","App","setPage","setSearchQuery","status","setStatus","isModalOpen","setModal","imageData","setImageData","images","setImages","setError","onToggleModal","onHandleKeydown","code","useEffect","fetchImages","hits","length","prevState","success","toString","window","addEventListener","removeEventListener","inputValue","color","height","timeout","position","theme","autoClose","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.805cf7bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__16Jxe\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__FQP5R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2RVJk\",\"modal\":\"Modal_modal__1TtmO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3bmZy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Sjrf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Wrapper_wrapper__fVE9s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Jc5n\",\"SearchForm\":\"Searchbar_SearchForm__3Z5I_\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3uxIj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3M7Aj\",\"SearchFormInput\":\"Searchbar_SearchFormInput__WAlJ1\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com';\r\naxios.defaults.params = { key: \"22593683-900dbddd4b86d221bedd65f3e\" };\r\n\r\nexport const fetchImgWithQuery = async (searchQuery = '', page = 1) => {\r\n  try {\r\n    const axiosResponse = await axios.get(\r\n      `/api/?q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    );\r\n    return axiosResponse.data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n}","import { useState } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst initialState = '';\r\nexport function Searchbar({onSubmit}) {\r\n\r\n  const [input, setInput] = useState(initialState);\r\n\r\n  const clearInput = () => {\r\n    setInput(initialState)\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    setInput(e.currentTarget.value.toLowerCase())\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (input.trim() === \"\") {\r\n      toast.error(\"Please, fulfill the search form\");\r\n    } else {\r\n      onSubmit(input);\r\n      clearInput();\r\n    }\r\n  }\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          value={input}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n}","import s from './ImageGallery.module.css'\r\n\r\nexport function ImageGallery ({children}) {\r\n\r\n    return (\r\n      <ul className={s.imageGallery}>\r\n        {children}\r\n      </ul>\r\n    )\r\n}","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\nexport function ImageGalleryItem({ response, onSelect }) {\r\n  return (\r\n    response.map((obj) =>\r\n      < li key={obj.id} className={s.imageGalleryItem} >\r\n        <img onClick={() => onSelect(obj)} src={obj.webformatURL} alt={obj.id} className={s.imageGalleryItemImage} />\r\n      </li>)\r\n  )\r\n}","import React from 'react';\r\nimport s from './Button.module.css'\r\n\r\nexport function Button ({onHandleSubmit}) {\r\n    return (\r\n      <button onClick={() => onHandleSubmit()} type=\"button\" className={s.button}>\r\n        Load more images\r\n      </button>\r\n    )\r\n}","\r\nimport s from './Modal.module.css'\r\n\r\nexport function Modal({ imageURL, onClose }) {\r\n\r\n  \r\n  return (\r\n    <div className={s.overlay} onClick={onClose}>\r\n      <div className={s.modal}>\r\n        <img src={imageURL.largeImageURL} alt={imageURL.id} width='700' />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport s from './Wrapper.module.css'\r\n\r\nexport function Wrapper ({children}) {\r\n\r\n    return (\r\n      <div className={s.wrapper}>\r\n        {children}\r\n      </div>\r\n    )\r\n}","import { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from \"react-loader-spinner\";\nimport { fetchImgWithQuery } from '../../services/imagesApi'\nimport { Searchbar } from \"../Searchbar/Searchbar\";\nimport { ImageGallery } from \"../ImageGallery/ImageGallery\";\nimport { ImageGalleryItem } from \"../ImageGallery/ImageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../Button/Button\";\nimport { Modal } from \"../Modal/Modal\";\nimport { Wrapper } from \"../Wrapper/Wrapper\";\n\nexport function App() {\n  \n  const [page, setPage] = useState(1)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [status, setStatus] = useState('idle')\n  const [isModalOpen, setModal] = useState(false)\n  const [imageData, setImageData] = useState(null)\n  const [images, setImages] = useState([])\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return\n    } else if (page === 1) {\n      setImages('')\n    }\n    const fetchImages = async () => {\n      try {\n        const { hits } = await fetchImgWithQuery(\n          searchQuery,\n          page\n        );\n        if (hits.length === 0) {\n          setStatus('rejected')\n          toast.error('Not found!')\n        } else {\n        setImages((prevState) => ([...prevState, ...hits]))\n        setError(null)\n        setStatus('resolved')\n        toast.success('Found!')\n        // scrollDown()\n      }\n      } catch (err) {\n        setError(err.toString())\n        setStatus('rejected')\n        toast.error('Not found!')\n      }\n    }\n    fetchImages()\n  }, [page, searchQuery])\n\n  useEffect(() => {\n  window.addEventListener('keydown', onHandleKeydown)\n  return function cleanup() {\n    window.removeEventListener('keydown', onHandleKeydown)\n  }\n}, [isModalOpen])\n  \n  function onToggleModal() {\n    setModal(!isModalOpen);\n  }\n\n  function onHandleKeydown(e) {\n    if (e.code === 'Escape') {\n      onToggleModal()\n    }\n  }\n\n  const scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  const onHandleSubmit = (inputValue) => {\n    setPage(1)\n    setSearchQuery(inputValue)\n  }\n\n\n  const onImageClick = (data) => {\n    setImageData(data);\n    onToggleModal();\n  }\n\n  const onLoadNext = () => {\n    setPage((prevState) => (prevState + 1))\n  }\n\n  return (\n    <Wrapper>\n      <Searchbar onSubmit={onHandleSubmit} />\n      {images.length > 0 &&\n        <ImageGallery>\n          <ImageGalleryItem\n            response={images}\n            onSelect={onImageClick} />\n        </ImageGallery>}\n      {images.length > 0 && <Button onHandleSubmit={onLoadNext} />}\n      {isModalOpen &&\n        <Modal imageURL={imageData} onClose={onToggleModal} />}\n      {status === 'pending' && <Loader\n        type='ThreeDots'\n        color='#3f51b5'\n        height={40}\n        width={40}\n        timeout={2000}\n      />}\n      <ToastContainer position='top-right' theme='dark' autoClose='2000' />\n    </Wrapper>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './components/App/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}